<plominodatabase id="iol_praticaweb">
  <design>
    <resource id="utilscript" title="" type="Folder">
      <resource id="setData" title="" type="Script (Python)"><![CDATA[## Script (Python) "setData"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=
##title=
##
from Products.CMFPlomino.PlominoUtils import Now, DateToString, StringToDate,json_dumps
#import simplejson as json
#######################################################
#                        INPUT                        #
#######################################################
docId = '00717-2017-integrazione'

#######################################################
#                      END INPUT                      #
#######################################################


db = context.getParentDatabase()
doc = db.getDocument(docId)

data = dict(
       
    titolo_esistente_id = 39491,
    #descrizione_intervento = 'COmunicazione di Fine Lavori della pratica protocollo n. %s del %s' %(protocollo,DateToString(data_prot,'%d/%m/%Y'))
    #fisica_nome = doc.getItem('nome',''),
    #fisica_cognome = doc.getItem('cognome','')
    #numero_pratica='17763/17'
    #descrizione_intervento='Test inserimento art. 48'
)

if not docId:
    return 'No Plomino Document with id %s' %docId
print "<ul>"
for k in data.keys():
    v = data[k]
    doc.setItem(k,v)
    print "<li>Setting item %s to Value %s</li>" %(k,json_dumps(v))
print "</ul>"    
doc.save()
print "<h4>Document %s Saved!!!!</h4>" %docId
return printed
]]></resource>
      <resource id="faqualcosa" title="" type="Script (Python)"><![CDATA[## Script (Python) "faqualcosa"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=
##title=
##
doc = context.getDocument('00003-2018-cdu')
doc.setItem('Form','00-presentata')
]]></resource>
    </resource>
  </design>
</plominodatabase>
