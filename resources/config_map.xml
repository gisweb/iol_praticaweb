<plominodatabase id="iol_praticaweb">
  <design>
    <resource id="config_map" title="" type="Script (Python)"><![CDATA[## Script (Python) "config_map"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=test=0
##title=
##
dz = dict(
          
mapKey = "AIzaSyC_7g88CD2z5odzcSq_fLndb3-0g7slLTU",        
#mapKey = "AIzaSyC_wNDXNfS3wRXfrwTSIy-MbGvRhavWGcQ",      
#inquadramento della mappa
mapSettings = {"scaleControl": True,"minZoom": 9, "zoom":12, "center": [44.11,9.85], "scrollwheel": False,"mapTypeId":"","coordsrid":3003},
#configurazione dei livelli WMS in mappa
layerSettings = dict(
layers=[{"name":"OSM","type":"TMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://tile.openstreetmap.org","alt":"OpenStreetMap"},{"name":"puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://www.istanze.spezianet.it/gisclient3/services/ows.php?project=servizicomunali&map=_puc&layers=puc_completo&TRANSPARENT=TRUE","alt":"PUC Completo"},
{"name":"catastale","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://www.istanze.spezianet.it/gisclient3/services/ows.php?project=servizicomunali&map=_puc&layers=particelle&TRANSPARENT=TRUE","alt":"Particelle Catastali"}],
#elenco dei livelli nel menu a cascata
layersList=[
    'PUC|puc',
    'Catastale|catastale'
],
types = "OSM,CATASTO,DEM,roadmap,terrain,satellite,hybrid",
layersActive = ['puc'], #layers attivi in avvio
baseType = "OSM"  #layer di sfondo predefinito in avvio
))
if test=='1':
    from Products.CMFPlomino.PlominoUtils import json_dumps
    return json_dumps(dz)
else:
    return dz

return dz
]]></resource>
  </design>
</plominodatabase>
