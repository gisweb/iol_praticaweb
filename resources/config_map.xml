<plominodatabase id="iol_praticaweb">
  <design>
    <resource id="config_map" title="" type="Script (Python)"><![CDATA[## Script (Python) "config_map"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=test=0
##title=
##
dz = dict(
mapKey = "AIzaSyC_wNDXNfS3wRXfrwTSIy-MbGvRhavWGcQ",        
#inquadramento della mappa
mapSettings = {"scaleControl": True,"tilt":0, "minZoom": 10, "zoom":13, "center": [44.24,9.49], "scrollwheel": False,"mapTypeId":"","coordsrid":3003},
#configurazione dei livelli WMS in mappa
layerSettings = dict(
layers=[{"name":"OSM","type":"TMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"http://tile.openstreetmap.org","alt":"OpenStreetMap"},
{"name":"catasto","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://moneglia.istanze-online.it//cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/moneglia.map&LAYERS=particelle_190,fabbricati_191,acque_193,strade_194,testi_189,varie_196&TRANSPARENT=TRUE","alt":"Catastale"},
{"name":"puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://moneglia.istanze-online.it//cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/moneglia.map&LAYERS=ambiti_171,zone_omogenee_168,servizi_169&TRANSPARENT=TRUE","alt":"PUC ambiti"},
],
#elenco dei livelli nel menu a cascata
layersList=[
    'Base Catastale|catasto',
    'PUC ambiti|puc'
],
types = "OSM,CATASTO,DEM,roadmap,terrain,satellite,hybrid",
layersActive = ['catasto','puc'], #layers attivi in avvio
baseType = "OSM"  #layer di sfondo predefinito in avvio
))

if test=='1':
    from Products.CMFPlomino.PlominoUtils import json_dumps
    return json_dumps(dz)
else:
    return dz

return dz
]]></resource>
  </design>
</plominodatabase>
